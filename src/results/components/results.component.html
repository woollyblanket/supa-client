<md-content layout="row">
	<div flex="66" layout="column">
		<md-card>
			<md-card-title>
				<md-card-title-text>
					<span class="md-headline">Search Results</span>
				</md-card-title-text>
			</md-card-title>
			<md-card-content>
				<div layout="row">
					<div flex="50" layout="column" class="md-margin">
						<label>Items per page</label>
						<select class="form-control" [(ngModel)]="resultsPerPage">
							<option value="10">10</option>
							<option value="25">25</option>
							<option value="50">50</option>
							<option value="75">75</option>
							<option value="100">100</option>
							<option value="{{filteredResultsList?.count()}}">Show all</option>
						</select>
					</div>
					<div flex="50" layout="column" class="md-margin">
						<md-input-container class="md-block" flex-gt-xs>
							<label>Text Filter</label>
							<input md-input [ngModel]="nameFilter" (ngModelChange)="nameFilterChange($event)">
						</md-input-container>
					</div>
				</div>

				<div layout="row">
					<product-list-property-filter 
						[criterion]="criterion" 
						(clicked)="filterResults()" 
						*ngFor="#criterion of filterCriteriaCollection.store?.items">
					</product-list-property-filter>
					<product-list-property-filter 
						[criterion]="criterion" 
						(clicked)="filterResults()" 
						*ngFor="#criterion of filterCriteriaCollection.query?.items">
					</product-list-property-filter>
				</div>

				<div layout="row">
					<div flex="50" layout="column" class="md-margin">
						<pagination-controls id="results"(pageChange)="p = $event"></pagination-controls>
					</div>
					<div flex="50" layout="column" class="md-margin">
						<sort-product-list 
							(sort)="sortListBy($event, filteredResultsList)">
						</sort-product-list>
					</div>
				</div>

				<md-divider></md-divider>

				<md-list>
					<md-list-item *ngFor="#result of filteredResultsList?.items | paginate: { id: 'results', itemsPerPage: resultsPerPage, currentPage: p}">
						<md-divider></md-divider>
						<results-list-item 
							flex="100" 
							[item]="result" 
							layout-margin
							(add)="addToShoppingList($event)">
						</results-list-item>
					</md-list-item>
				</md-list>
		    </md-card-content>
		</md-card>
	</div>
	<div flex="33" layout="column">
		<md-card>
			<md-card-title>
				<md-card-title-text>
					<span class="md-headline">ShoppingList</span>
				</md-card-title-text>
			</md-card-title>
			<md-card-content>
				<md-list>
					<md-list-item *ngFor="#item of shoppingList?.items">
						<shopping-list-item 
							flex="100" 
							[item]="item" 
							layout-margin
							(remove)="removeFromShoppingList($event)">
						</shopping-list-item>
						<md-divider></md-divider>
					</md-list-item>
				</md-list>
		    </md-card-content>
		</md-card>
	</div>
</md-content>